t = int(input())
three = [1350851717672992089, 450283905890997363, 150094635296999121, 50031545098999707, 16677181699666569, 5559060566555523, 1853020188851841, 617673396283947, 205891132094649, 68630377364883, 22876792454961, 7625597484987, 2541865828329, 847288609443, 282429536481, 94143178827, 31381059609, 10460353203, 3486784401,1162261467, 387420489, 129140163, 43046721, 14348907, 4782969, 1594323, 531441, 177147, 59049, 19683, 6561, 2187, 729, 243, 81, 27, 9, 3, 1, 0]
# three = [1162261467, 387420489, 129140163, 43046721, 14348907, 4782969, 1594323, 531441, 177147, 59049, 19683, 6561, 2187, 729, 243, 81, 27, 9, 3, 1]
# print(three)
# c3po = [1, 4, 13, 40, 121, 364, 1093, 3280, 9841, 29524, 88573, 265720, 797161, 2391484, 7174453, 21523360, 64570081, 193710244, 581130733, 1743392200, 5230176601, 15690529804, 47071589413, 141214768240, 423644304721, 1270932914164, 3812798742493, 11438396227480, 34315188682441, 102945566047324, 308836698141973, 926510094425920, 2779530283277761, 8338590849833284, 25015772549499853, 75047317648499560, 225141952945498681, 675425858836496044]
c3po=[2026277576509488133, 675425858836496044, 225141952945498681, 75047317648499560, 25015772549499853, 8338590849833284, 2779530283277761, 926510094425920, 308836698141973, 102945566047324, 34315188682441, 11438396227480, 3812798742493, 1270932914164, 423644304721, 141214768240, 47071589413, 15690529804, 5230176601, 1743392200, 581130733, 193710244, 64570081, 21523360, 7174453, 2391484, 797161, 265720, 88573, 29524, 9841, 3280, 1093, 364, 121, 40, 13, 4, 1, 0]
# su = 0
# for i in three[::-1]:
#     su+=i
#     c3po.append(su)
# three = [3**38]+three
# print(three[0])
# print(c3po[::-1])


# def aaa(a):
#     if len(a) == 1:
#         return [0]+a
#     s = aaa(a[1:])
#     return [i+a[0] for i in s] + s
# ss=aaa(three)
# ss.sort()

# print(len(ss))

# three = ss

for ts in range(t):
    l = int(input())
# #     i=0
# #     for i in three:
# #         if i>=l:
# #             print(i)
# #             break
    ans=0
    la=0
    ii=0
    for ii in range(len(three)):
        i=three[ii]
        if(l>c3po[ii]):
            ans+=la
            break
        if(i<l):
            l-=i
            ans+=i
            # print("----", i)
            # la = i
        else:
            la = i
    # print(list(filter(lambda x: x>=l and x<la,three)))
    # ans+= [-1]

    print(ans)
